<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
	<title>Html5</title>
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="description" content="">
	<meta name="author" content="">

	<link rel="stylesheet" type="text/css" href="lib/jquery.bxslider.css">
	<link rel="stylesheet" type="text/css" href="assets/css/slider.css">
	
	<script type="text/javascript" src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
	<script type="text/javascript" src="lib/jquery.bxslider.min.js"></script> 	
	<script type="text/javascript" src="/socket.io/socket.io.js"></script>
	<script type="text/javascript">
		$(function() {
			var slider = $('.bxslider').bxSlider();

			// connect to the socket server
			var socket = io.connect();

			// if we get an "publishCampaign" emit from the socket server then console.log the data we recive
			socket.on('publishCampaign', function(data) {
				console.log(data);
				var imageDom = "";

				for (var i = data.images.length - 1; i >= 0; i--) {
					imageDom += '<li style="background-image: url(\'' + data.images[i].url + '\');"></li>';
				};

				slider.html(imageDom).reloadSlider({
					mode: 'fade',
					auto: true,
					pager: false
				});
			});
		});
	</script>
</head>
<body>
	<ul class="bxslider"></ul>	
</body>
</html>
